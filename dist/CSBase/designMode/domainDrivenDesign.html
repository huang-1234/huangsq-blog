<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>领域驱动设计 | H先森</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
    <meta name="description" content="From FE Arch、To Full Stack">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.e16fe094.css" as="style"><link rel="preload" href="/assets/js/app.855b72e2.js" as="script"><link rel="preload" href="/assets/js/3.bc729665.js" as="script"><link rel="preload" href="/assets/js/1.70674a6e.js" as="script"><link rel="preload" href="/assets/js/539.1b7b26d3.js" as="script"><link rel="prefetch" href="/assets/js/10.bc8cc1c0.js"><link rel="prefetch" href="/assets/js/100.a289f245.js"><link rel="prefetch" href="/assets/js/101.aa0879a6.js"><link rel="prefetch" href="/assets/js/102.8c94d0a1.js"><link rel="prefetch" href="/assets/js/103.94888785.js"><link rel="prefetch" href="/assets/js/104.f5b6b77b.js"><link rel="prefetch" href="/assets/js/105.f77f7238.js"><link rel="prefetch" href="/assets/js/106.852a3535.js"><link rel="prefetch" href="/assets/js/107.f65014d0.js"><link rel="prefetch" href="/assets/js/108.181abce8.js"><link rel="prefetch" href="/assets/js/109.4a2cc120.js"><link rel="prefetch" href="/assets/js/11.d8a15310.js"><link rel="prefetch" href="/assets/js/110.cdfa0040.js"><link rel="prefetch" href="/assets/js/111.d501c2d4.js"><link rel="prefetch" href="/assets/js/112.7b9ef4f0.js"><link rel="prefetch" href="/assets/js/113.95c98223.js"><link rel="prefetch" href="/assets/js/114.ee9fe1c2.js"><link rel="prefetch" href="/assets/js/115.3a2df974.js"><link rel="prefetch" href="/assets/js/116.0c129bc6.js"><link rel="prefetch" href="/assets/js/117.9c909fe6.js"><link rel="prefetch" href="/assets/js/118.a4cc8ea2.js"><link rel="prefetch" href="/assets/js/119.eb63d272.js"><link rel="prefetch" href="/assets/js/12.7be22c4b.js"><link rel="prefetch" href="/assets/js/120.b2f69703.js"><link rel="prefetch" href="/assets/js/121.9ff23a44.js"><link rel="prefetch" href="/assets/js/122.8fde9e39.js"><link rel="prefetch" href="/assets/js/123.6103eda3.js"><link rel="prefetch" href="/assets/js/124.03c04770.js"><link rel="prefetch" href="/assets/js/125.7d2363ed.js"><link rel="prefetch" href="/assets/js/126.36359a6e.js"><link rel="prefetch" href="/assets/js/127.257870c7.js"><link rel="prefetch" href="/assets/js/128.d192f68b.js"><link rel="prefetch" href="/assets/js/129.5da90348.js"><link rel="prefetch" href="/assets/js/13.8aa3c138.js"><link rel="prefetch" href="/assets/js/130.7b820697.js"><link rel="prefetch" href="/assets/js/131.e822f91c.js"><link rel="prefetch" href="/assets/js/132.418ca383.js"><link rel="prefetch" href="/assets/js/133.6d89af53.js"><link rel="prefetch" href="/assets/js/134.c65fc0b0.js"><link rel="prefetch" href="/assets/js/135.66543fb8.js"><link rel="prefetch" href="/assets/js/136.62727d7e.js"><link rel="prefetch" href="/assets/js/137.ed3bed90.js"><link rel="prefetch" href="/assets/js/138.00dec8e3.js"><link rel="prefetch" href="/assets/js/139.d8562697.js"><link rel="prefetch" href="/assets/js/14.deedecb6.js"><link rel="prefetch" href="/assets/js/140.34ab3c78.js"><link rel="prefetch" href="/assets/js/141.f7007d4f.js"><link rel="prefetch" href="/assets/js/142.403d14ee.js"><link rel="prefetch" href="/assets/js/143.fa560c7e.js"><link rel="prefetch" href="/assets/js/144.862c656c.js"><link rel="prefetch" href="/assets/js/145.a4df977c.js"><link rel="prefetch" href="/assets/js/146.67078725.js"><link rel="prefetch" href="/assets/js/147.6f6ca7a6.js"><link rel="prefetch" href="/assets/js/148.ca6cd60a.js"><link rel="prefetch" href="/assets/js/149.b8f1a35c.js"><link rel="prefetch" href="/assets/js/15.58bd23f9.js"><link rel="prefetch" href="/assets/js/150.837b4427.js"><link rel="prefetch" href="/assets/js/151.5e2d92df.js"><link rel="prefetch" href="/assets/js/152.85f04589.js"><link rel="prefetch" href="/assets/js/153.cbd9038e.js"><link rel="prefetch" href="/assets/js/154.33a89af0.js"><link rel="prefetch" href="/assets/js/155.9e72b080.js"><link rel="prefetch" href="/assets/js/156.17e2caa9.js"><link rel="prefetch" href="/assets/js/157.052ea245.js"><link rel="prefetch" href="/assets/js/158.85bedb82.js"><link rel="prefetch" href="/assets/js/159.99e70f7e.js"><link rel="prefetch" href="/assets/js/16.73c3c850.js"><link rel="prefetch" href="/assets/js/160.afb50c6f.js"><link rel="prefetch" href="/assets/js/161.020d78c7.js"><link rel="prefetch" href="/assets/js/162.f08b41d3.js"><link rel="prefetch" href="/assets/js/163.494f70f0.js"><link rel="prefetch" href="/assets/js/164.75b48f78.js"><link rel="prefetch" href="/assets/js/165.64453a8e.js"><link rel="prefetch" href="/assets/js/166.dba9768b.js"><link rel="prefetch" href="/assets/js/167.4bc881f9.js"><link rel="prefetch" href="/assets/js/168.966f2815.js"><link rel="prefetch" href="/assets/js/169.0fb70368.js"><link rel="prefetch" href="/assets/js/17.0bcb117a.js"><link rel="prefetch" href="/assets/js/170.696a7577.js"><link rel="prefetch" href="/assets/js/171.df68bfc5.js"><link rel="prefetch" href="/assets/js/172.ab4494d5.js"><link rel="prefetch" href="/assets/js/173.b15ef59a.js"><link rel="prefetch" href="/assets/js/174.76009f55.js"><link rel="prefetch" href="/assets/js/175.1d12ce3e.js"><link rel="prefetch" href="/assets/js/176.7a5177f2.js"><link rel="prefetch" href="/assets/js/177.3a32cbd4.js"><link rel="prefetch" href="/assets/js/178.3eaa01d8.js"><link rel="prefetch" href="/assets/js/179.9988911a.js"><link rel="prefetch" href="/assets/js/18.c5ff7a7d.js"><link rel="prefetch" href="/assets/js/180.80df7a15.js"><link rel="prefetch" href="/assets/js/181.9bb72814.js"><link rel="prefetch" href="/assets/js/182.1f6d3ead.js"><link rel="prefetch" href="/assets/js/183.21d7471d.js"><link rel="prefetch" href="/assets/js/184.b4c40938.js"><link rel="prefetch" href="/assets/js/185.f27477d2.js"><link rel="prefetch" href="/assets/js/186.4abb47e9.js"><link rel="prefetch" href="/assets/js/187.2005370f.js"><link rel="prefetch" href="/assets/js/188.2fde02c9.js"><link rel="prefetch" href="/assets/js/189.2d10c1eb.js"><link rel="prefetch" href="/assets/js/19.0d0e2faf.js"><link rel="prefetch" href="/assets/js/190.6a222d8b.js"><link rel="prefetch" href="/assets/js/191.0e475ea3.js"><link rel="prefetch" href="/assets/js/192.eb2a88d6.js"><link rel="prefetch" href="/assets/js/193.59540561.js"><link rel="prefetch" href="/assets/js/194.940613aa.js"><link rel="prefetch" href="/assets/js/195.f7ce8ffa.js"><link rel="prefetch" href="/assets/js/196.e201e9b5.js"><link rel="prefetch" href="/assets/js/197.ceda2fee.js"><link rel="prefetch" href="/assets/js/198.6f76ccbb.js"><link rel="prefetch" href="/assets/js/199.7f2185eb.js"><link rel="prefetch" href="/assets/js/20.bd47cc1e.js"><link rel="prefetch" href="/assets/js/200.1ee10d97.js"><link rel="prefetch" href="/assets/js/201.066a0971.js"><link rel="prefetch" href="/assets/js/202.9d016827.js"><link rel="prefetch" href="/assets/js/203.aa4b5ebf.js"><link rel="prefetch" href="/assets/js/204.4420f85f.js"><link rel="prefetch" href="/assets/js/205.0efd45ef.js"><link rel="prefetch" href="/assets/js/206.982890e5.js"><link rel="prefetch" href="/assets/js/207.21784e28.js"><link rel="prefetch" href="/assets/js/208.057cdac3.js"><link rel="prefetch" href="/assets/js/209.62d59096.js"><link rel="prefetch" href="/assets/js/21.51f6550c.js"><link rel="prefetch" href="/assets/js/210.b535117b.js"><link rel="prefetch" href="/assets/js/211.5e488edf.js"><link rel="prefetch" href="/assets/js/212.8cf6fb24.js"><link rel="prefetch" href="/assets/js/213.e18c2e3b.js"><link rel="prefetch" href="/assets/js/214.66d0b24d.js"><link rel="prefetch" href="/assets/js/215.4228a4c5.js"><link rel="prefetch" href="/assets/js/216.9862c6f4.js"><link rel="prefetch" href="/assets/js/217.341fe551.js"><link rel="prefetch" href="/assets/js/218.f2622fc8.js"><link rel="prefetch" href="/assets/js/219.488ce1ed.js"><link rel="prefetch" href="/assets/js/22.f56d4ed4.js"><link rel="prefetch" href="/assets/js/220.2973ff0f.js"><link rel="prefetch" href="/assets/js/221.93648175.js"><link rel="prefetch" href="/assets/js/222.98d5d698.js"><link rel="prefetch" href="/assets/js/223.784e8913.js"><link rel="prefetch" href="/assets/js/224.ce4e363c.js"><link rel="prefetch" href="/assets/js/225.80640b97.js"><link rel="prefetch" href="/assets/js/226.b8a7f2ec.js"><link rel="prefetch" href="/assets/js/227.adede7b1.js"><link rel="prefetch" href="/assets/js/228.bd3ea418.js"><link rel="prefetch" href="/assets/js/229.5c663fa7.js"><link rel="prefetch" href="/assets/js/23.63fd3ac0.js"><link rel="prefetch" href="/assets/js/230.f9eb6616.js"><link rel="prefetch" href="/assets/js/231.fe9ad962.js"><link rel="prefetch" href="/assets/js/232.14a1c4fa.js"><link rel="prefetch" href="/assets/js/233.f53d3e52.js"><link rel="prefetch" href="/assets/js/234.b2061a67.js"><link rel="prefetch" href="/assets/js/235.7a751c55.js"><link rel="prefetch" href="/assets/js/236.253348ea.js"><link rel="prefetch" href="/assets/js/237.c93a4009.js"><link rel="prefetch" href="/assets/js/238.2229899d.js"><link rel="prefetch" href="/assets/js/239.c4ad9b16.js"><link rel="prefetch" href="/assets/js/24.602fde60.js"><link rel="prefetch" href="/assets/js/240.eceae636.js"><link rel="prefetch" href="/assets/js/241.437369f5.js"><link rel="prefetch" href="/assets/js/242.82b4119c.js"><link rel="prefetch" href="/assets/js/243.3ff1b71f.js"><link rel="prefetch" href="/assets/js/244.fda58095.js"><link rel="prefetch" href="/assets/js/245.f42119c9.js"><link rel="prefetch" href="/assets/js/246.ab1fc9b4.js"><link rel="prefetch" href="/assets/js/247.c3043f42.js"><link rel="prefetch" href="/assets/js/248.58765933.js"><link rel="prefetch" href="/assets/js/249.9225713f.js"><link rel="prefetch" href="/assets/js/25.2305ea38.js"><link rel="prefetch" href="/assets/js/250.d2ab3efa.js"><link rel="prefetch" href="/assets/js/251.3d2da5ab.js"><link rel="prefetch" href="/assets/js/252.015c4b90.js"><link rel="prefetch" href="/assets/js/253.f3001da1.js"><link rel="prefetch" href="/assets/js/254.3105a079.js"><link rel="prefetch" href="/assets/js/255.dd417712.js"><link rel="prefetch" href="/assets/js/256.f54d3f52.js"><link rel="prefetch" href="/assets/js/257.a4d287e2.js"><link rel="prefetch" href="/assets/js/258.3c934a4e.js"><link rel="prefetch" href="/assets/js/259.fb3c9acf.js"><link rel="prefetch" href="/assets/js/26.3885a6a0.js"><link rel="prefetch" href="/assets/js/260.fc18cd41.js"><link rel="prefetch" href="/assets/js/261.784bc854.js"><link rel="prefetch" href="/assets/js/262.ac998b7c.js"><link rel="prefetch" href="/assets/js/263.b9ecb63a.js"><link rel="prefetch" href="/assets/js/264.05a2a6cc.js"><link rel="prefetch" href="/assets/js/265.bb720e2b.js"><link rel="prefetch" href="/assets/js/266.187bbb7b.js"><link rel="prefetch" href="/assets/js/267.e8e7df6d.js"><link rel="prefetch" href="/assets/js/268.0d3d48a0.js"><link rel="prefetch" href="/assets/js/269.4d39de77.js"><link rel="prefetch" href="/assets/js/27.aa44a5b9.js"><link rel="prefetch" href="/assets/js/270.a2e84d4e.js"><link rel="prefetch" href="/assets/js/271.6db2a1d9.js"><link rel="prefetch" href="/assets/js/272.17f13b71.js"><link rel="prefetch" href="/assets/js/273.4f2939c7.js"><link rel="prefetch" href="/assets/js/274.c205160e.js"><link rel="prefetch" href="/assets/js/275.d79d7ea7.js"><link rel="prefetch" href="/assets/js/276.6065e349.js"><link rel="prefetch" href="/assets/js/277.18c97185.js"><link rel="prefetch" href="/assets/js/278.1bc9c461.js"><link rel="prefetch" href="/assets/js/279.59e08bf3.js"><link rel="prefetch" href="/assets/js/28.70923c68.js"><link rel="prefetch" href="/assets/js/280.c7c30e65.js"><link rel="prefetch" href="/assets/js/281.610991e8.js"><link rel="prefetch" href="/assets/js/282.0366cb7b.js"><link rel="prefetch" href="/assets/js/283.646104f4.js"><link rel="prefetch" href="/assets/js/284.6495f31c.js"><link rel="prefetch" href="/assets/js/285.fdef538e.js"><link rel="prefetch" href="/assets/js/286.8017f1e1.js"><link rel="prefetch" href="/assets/js/287.658e6235.js"><link rel="prefetch" href="/assets/js/288.3598d07c.js"><link rel="prefetch" href="/assets/js/289.a16953ba.js"><link rel="prefetch" href="/assets/js/29.17b40445.js"><link rel="prefetch" href="/assets/js/290.4429cfab.js"><link rel="prefetch" href="/assets/js/291.2a2f4abf.js"><link rel="prefetch" href="/assets/js/292.fdebe77b.js"><link rel="prefetch" href="/assets/js/293.e8de9d8b.js"><link rel="prefetch" href="/assets/js/294.3d04bcc3.js"><link rel="prefetch" href="/assets/js/295.fc474284.js"><link rel="prefetch" href="/assets/js/296.a60aa948.js"><link rel="prefetch" href="/assets/js/297.0eb267c0.js"><link rel="prefetch" href="/assets/js/298.0463170d.js"><link rel="prefetch" href="/assets/js/299.b92610db.js"><link rel="prefetch" href="/assets/js/30.5eee90d7.js"><link rel="prefetch" href="/assets/js/300.04ed5dde.js"><link rel="prefetch" href="/assets/js/301.df657ba0.js"><link rel="prefetch" href="/assets/js/302.b7bbb973.js"><link rel="prefetch" href="/assets/js/303.5e244d6b.js"><link rel="prefetch" href="/assets/js/304.054d879b.js"><link rel="prefetch" href="/assets/js/305.57cd0287.js"><link rel="prefetch" href="/assets/js/306.3b224d37.js"><link rel="prefetch" href="/assets/js/307.024a8eb6.js"><link rel="prefetch" href="/assets/js/308.86bacd78.js"><link rel="prefetch" href="/assets/js/309.67363a49.js"><link rel="prefetch" href="/assets/js/31.8fc361ed.js"><link rel="prefetch" href="/assets/js/310.726b7994.js"><link rel="prefetch" href="/assets/js/311.f745d781.js"><link rel="prefetch" href="/assets/js/312.857c9af9.js"><link rel="prefetch" href="/assets/js/313.a855025c.js"><link rel="prefetch" href="/assets/js/314.abe52012.js"><link rel="prefetch" href="/assets/js/315.3431916b.js"><link rel="prefetch" href="/assets/js/316.9b28a846.js"><link rel="prefetch" href="/assets/js/317.fdcba4b2.js"><link rel="prefetch" href="/assets/js/318.b9a57a0d.js"><link rel="prefetch" href="/assets/js/319.028635b4.js"><link rel="prefetch" href="/assets/js/32.d407f9cc.js"><link rel="prefetch" href="/assets/js/320.9d9c037a.js"><link rel="prefetch" href="/assets/js/321.d4863f32.js"><link rel="prefetch" href="/assets/js/322.d7793f20.js"><link rel="prefetch" href="/assets/js/323.49b52b04.js"><link rel="prefetch" href="/assets/js/324.04a2da3f.js"><link rel="prefetch" href="/assets/js/325.66f6887d.js"><link rel="prefetch" href="/assets/js/326.81df562d.js"><link rel="prefetch" href="/assets/js/327.74e2556a.js"><link rel="prefetch" href="/assets/js/328.e4cd3791.js"><link rel="prefetch" href="/assets/js/329.83e21843.js"><link rel="prefetch" href="/assets/js/33.0af0391d.js"><link rel="prefetch" href="/assets/js/330.574566d2.js"><link rel="prefetch" href="/assets/js/331.2d192cc2.js"><link rel="prefetch" href="/assets/js/332.5c00eb82.js"><link rel="prefetch" href="/assets/js/333.9a1ae0eb.js"><link rel="prefetch" href="/assets/js/334.cfa7b79d.js"><link rel="prefetch" href="/assets/js/335.66501c27.js"><link rel="prefetch" href="/assets/js/336.fe17a9c8.js"><link rel="prefetch" href="/assets/js/337.1bc4473b.js"><link rel="prefetch" href="/assets/js/338.53968d0c.js"><link rel="prefetch" href="/assets/js/339.b22dee2a.js"><link rel="prefetch" href="/assets/js/34.aeffe8e4.js"><link rel="prefetch" href="/assets/js/340.dc21be16.js"><link rel="prefetch" href="/assets/js/341.7c2d97fd.js"><link rel="prefetch" href="/assets/js/342.d1b8394c.js"><link rel="prefetch" href="/assets/js/343.71ede117.js"><link rel="prefetch" href="/assets/js/344.5b779c95.js"><link rel="prefetch" href="/assets/js/345.43f76836.js"><link rel="prefetch" href="/assets/js/346.05ec567e.js"><link rel="prefetch" href="/assets/js/347.7a3f79d7.js"><link rel="prefetch" href="/assets/js/348.b10a690a.js"><link rel="prefetch" href="/assets/js/349.58860d7d.js"><link rel="prefetch" href="/assets/js/35.5559c1a8.js"><link rel="prefetch" href="/assets/js/350.0118b14f.js"><link rel="prefetch" href="/assets/js/351.48b10151.js"><link rel="prefetch" href="/assets/js/352.ab9e5daf.js"><link rel="prefetch" href="/assets/js/353.124adc18.js"><link rel="prefetch" href="/assets/js/354.3bf700e1.js"><link rel="prefetch" href="/assets/js/355.bb783fcf.js"><link rel="prefetch" href="/assets/js/356.f2f4080d.js"><link rel="prefetch" href="/assets/js/357.7b323b81.js"><link rel="prefetch" href="/assets/js/358.c58e37fb.js"><link rel="prefetch" href="/assets/js/359.94eeae7e.js"><link rel="prefetch" href="/assets/js/36.dd53f2bc.js"><link rel="prefetch" href="/assets/js/360.3771436c.js"><link rel="prefetch" href="/assets/js/361.2a54d792.js"><link rel="prefetch" href="/assets/js/362.f98408be.js"><link rel="prefetch" href="/assets/js/363.32d5b1f1.js"><link rel="prefetch" href="/assets/js/364.6d4a967a.js"><link rel="prefetch" href="/assets/js/365.f6ca9c26.js"><link rel="prefetch" href="/assets/js/366.df47d1c3.js"><link rel="prefetch" href="/assets/js/367.9c52d70e.js"><link rel="prefetch" href="/assets/js/368.1ca653ae.js"><link rel="prefetch" href="/assets/js/369.35b9ebdd.js"><link rel="prefetch" href="/assets/js/37.32f86649.js"><link rel="prefetch" href="/assets/js/370.7cc2ad1d.js"><link rel="prefetch" href="/assets/js/371.9b1ef7f2.js"><link rel="prefetch" href="/assets/js/372.90f7a98a.js"><link rel="prefetch" href="/assets/js/373.5fbab904.js"><link rel="prefetch" href="/assets/js/374.f871350f.js"><link rel="prefetch" href="/assets/js/375.4885ae36.js"><link rel="prefetch" href="/assets/js/376.98fa8d16.js"><link rel="prefetch" href="/assets/js/377.6e5f97cf.js"><link rel="prefetch" href="/assets/js/378.43d8df6c.js"><link rel="prefetch" href="/assets/js/379.4c5c0dca.js"><link rel="prefetch" href="/assets/js/38.6438c0a0.js"><link rel="prefetch" href="/assets/js/380.5468eee4.js"><link rel="prefetch" href="/assets/js/381.c24618ad.js"><link rel="prefetch" href="/assets/js/382.dc37496a.js"><link rel="prefetch" href="/assets/js/383.6ed92ab6.js"><link rel="prefetch" href="/assets/js/384.bd483c3f.js"><link rel="prefetch" href="/assets/js/385.2399ed1f.js"><link rel="prefetch" href="/assets/js/386.2901071b.js"><link rel="prefetch" href="/assets/js/387.50f8812c.js"><link rel="prefetch" href="/assets/js/388.f4c7dae9.js"><link rel="prefetch" href="/assets/js/389.f03292d1.js"><link rel="prefetch" href="/assets/js/39.f025220d.js"><link rel="prefetch" href="/assets/js/390.b2003b82.js"><link rel="prefetch" href="/assets/js/391.23d0f4c9.js"><link rel="prefetch" href="/assets/js/392.68c30faa.js"><link rel="prefetch" href="/assets/js/393.1c4935a9.js"><link rel="prefetch" href="/assets/js/394.c091249c.js"><link rel="prefetch" href="/assets/js/395.919e364f.js"><link rel="prefetch" href="/assets/js/396.e42dedb1.js"><link rel="prefetch" href="/assets/js/397.93abb383.js"><link rel="prefetch" href="/assets/js/398.0d4f1a39.js"><link rel="prefetch" href="/assets/js/399.93948d8a.js"><link rel="prefetch" href="/assets/js/4.9cf135a6.js"><link rel="prefetch" href="/assets/js/40.0ee07d6c.js"><link rel="prefetch" href="/assets/js/400.29153180.js"><link rel="prefetch" href="/assets/js/401.4bfff032.js"><link rel="prefetch" href="/assets/js/402.fde8f344.js"><link rel="prefetch" href="/assets/js/403.ddade35f.js"><link rel="prefetch" href="/assets/js/404.aa6011d9.js"><link rel="prefetch" href="/assets/js/405.56bdee94.js"><link rel="prefetch" href="/assets/js/406.09bf92ec.js"><link rel="prefetch" href="/assets/js/407.1816304c.js"><link rel="prefetch" href="/assets/js/408.6eb2c6ed.js"><link rel="prefetch" href="/assets/js/409.dd217ecf.js"><link rel="prefetch" href="/assets/js/41.f3a6dd99.js"><link rel="prefetch" href="/assets/js/410.311c960f.js"><link rel="prefetch" href="/assets/js/411.b271f6e5.js"><link rel="prefetch" href="/assets/js/412.2ad7cdc6.js"><link rel="prefetch" href="/assets/js/413.f7add2bb.js"><link rel="prefetch" href="/assets/js/414.ed585883.js"><link rel="prefetch" href="/assets/js/415.29561716.js"><link rel="prefetch" href="/assets/js/416.56129740.js"><link rel="prefetch" href="/assets/js/417.d50ff776.js"><link rel="prefetch" href="/assets/js/418.135d0000.js"><link rel="prefetch" href="/assets/js/419.44c412e6.js"><link rel="prefetch" href="/assets/js/42.a833cc15.js"><link rel="prefetch" href="/assets/js/420.b5a507f9.js"><link rel="prefetch" href="/assets/js/421.e52621ec.js"><link rel="prefetch" href="/assets/js/422.08df18a9.js"><link rel="prefetch" href="/assets/js/423.a7655f9e.js"><link rel="prefetch" href="/assets/js/424.63854b66.js"><link rel="prefetch" href="/assets/js/425.31a95f56.js"><link rel="prefetch" href="/assets/js/426.a649ed39.js"><link rel="prefetch" href="/assets/js/427.ca508b86.js"><link rel="prefetch" href="/assets/js/428.357bf66e.js"><link rel="prefetch" href="/assets/js/429.29d7d89c.js"><link rel="prefetch" href="/assets/js/43.d51b1584.js"><link rel="prefetch" href="/assets/js/430.3a74fadc.js"><link rel="prefetch" href="/assets/js/431.b27781df.js"><link rel="prefetch" href="/assets/js/432.785b004f.js"><link rel="prefetch" href="/assets/js/433.cdf5e00b.js"><link rel="prefetch" href="/assets/js/434.f8368f0b.js"><link rel="prefetch" href="/assets/js/435.87d0abf7.js"><link rel="prefetch" href="/assets/js/436.a04d0480.js"><link rel="prefetch" href="/assets/js/437.b6ea3e85.js"><link rel="prefetch" href="/assets/js/438.b21384a4.js"><link rel="prefetch" href="/assets/js/439.9d604173.js"><link rel="prefetch" href="/assets/js/44.5c1fb15b.js"><link rel="prefetch" href="/assets/js/440.909436b7.js"><link rel="prefetch" href="/assets/js/441.c7619ed4.js"><link rel="prefetch" href="/assets/js/442.daa1e3c7.js"><link rel="prefetch" href="/assets/js/443.133df37d.js"><link rel="prefetch" href="/assets/js/444.33b1b683.js"><link rel="prefetch" href="/assets/js/445.8f675b3d.js"><link rel="prefetch" href="/assets/js/446.6295720d.js"><link rel="prefetch" href="/assets/js/447.bb5b8586.js"><link rel="prefetch" href="/assets/js/448.a88d9888.js"><link rel="prefetch" href="/assets/js/449.a698c027.js"><link rel="prefetch" href="/assets/js/45.d52f429f.js"><link rel="prefetch" href="/assets/js/450.dfd52c04.js"><link rel="prefetch" href="/assets/js/451.61b5717a.js"><link rel="prefetch" href="/assets/js/452.d1cb50d9.js"><link rel="prefetch" href="/assets/js/453.48d21dda.js"><link rel="prefetch" href="/assets/js/454.c744527c.js"><link rel="prefetch" href="/assets/js/455.56ae92f2.js"><link rel="prefetch" href="/assets/js/456.77874379.js"><link rel="prefetch" href="/assets/js/457.f02ef2df.js"><link rel="prefetch" href="/assets/js/458.1dc3faf6.js"><link rel="prefetch" href="/assets/js/459.bc507fe3.js"><link rel="prefetch" href="/assets/js/46.22324749.js"><link rel="prefetch" href="/assets/js/460.80918903.js"><link rel="prefetch" href="/assets/js/461.6dd3c50f.js"><link rel="prefetch" href="/assets/js/462.403dc61b.js"><link rel="prefetch" href="/assets/js/463.7f76aa1c.js"><link rel="prefetch" href="/assets/js/464.7caf416d.js"><link rel="prefetch" href="/assets/js/465.33d30b74.js"><link rel="prefetch" href="/assets/js/466.ac4f8224.js"><link rel="prefetch" href="/assets/js/467.abd5aa32.js"><link rel="prefetch" href="/assets/js/468.45df4043.js"><link rel="prefetch" href="/assets/js/469.9a8319f1.js"><link rel="prefetch" href="/assets/js/47.a9267b33.js"><link rel="prefetch" href="/assets/js/470.36f85d15.js"><link rel="prefetch" href="/assets/js/471.5620ba23.js"><link rel="prefetch" href="/assets/js/472.4c52382a.js"><link rel="prefetch" href="/assets/js/473.ed6f4376.js"><link rel="prefetch" href="/assets/js/474.202490b0.js"><link rel="prefetch" href="/assets/js/475.dd63b875.js"><link rel="prefetch" href="/assets/js/476.63904357.js"><link rel="prefetch" href="/assets/js/477.edff925a.js"><link rel="prefetch" href="/assets/js/478.235d2653.js"><link rel="prefetch" href="/assets/js/479.5f3355c8.js"><link rel="prefetch" href="/assets/js/48.24508177.js"><link rel="prefetch" href="/assets/js/480.539ca24b.js"><link rel="prefetch" href="/assets/js/481.2291a3a1.js"><link rel="prefetch" href="/assets/js/482.86512ee6.js"><link rel="prefetch" href="/assets/js/483.0bed5cce.js"><link rel="prefetch" href="/assets/js/484.344e2b36.js"><link rel="prefetch" href="/assets/js/485.9dc3d8a8.js"><link rel="prefetch" href="/assets/js/486.7433f8dc.js"><link rel="prefetch" href="/assets/js/487.fa68fd32.js"><link rel="prefetch" href="/assets/js/488.de7cf445.js"><link rel="prefetch" href="/assets/js/489.acce8b80.js"><link rel="prefetch" href="/assets/js/49.3771d100.js"><link rel="prefetch" href="/assets/js/490.8538aee8.js"><link rel="prefetch" href="/assets/js/491.2976e67c.js"><link rel="prefetch" href="/assets/js/492.bfee2cc5.js"><link rel="prefetch" href="/assets/js/493.05a40591.js"><link rel="prefetch" href="/assets/js/494.f9584b9c.js"><link rel="prefetch" href="/assets/js/495.7e04e7a6.js"><link rel="prefetch" href="/assets/js/496.8b45764a.js"><link rel="prefetch" href="/assets/js/497.b1cfc913.js"><link rel="prefetch" href="/assets/js/498.218e57e7.js"><link rel="prefetch" href="/assets/js/499.42d93b6a.js"><link rel="prefetch" href="/assets/js/5.10f74df8.js"><link rel="prefetch" href="/assets/js/50.c90bb172.js"><link rel="prefetch" href="/assets/js/500.3f3e25f9.js"><link rel="prefetch" href="/assets/js/501.6f581f73.js"><link rel="prefetch" href="/assets/js/502.e9f77775.js"><link rel="prefetch" href="/assets/js/503.559447c5.js"><link rel="prefetch" href="/assets/js/504.abbb35b4.js"><link rel="prefetch" href="/assets/js/505.b7d0622d.js"><link rel="prefetch" href="/assets/js/506.15d0fe79.js"><link rel="prefetch" href="/assets/js/507.e6da5e77.js"><link rel="prefetch" href="/assets/js/508.b527f67e.js"><link rel="prefetch" href="/assets/js/509.e3e1dfab.js"><link rel="prefetch" href="/assets/js/51.21565f98.js"><link rel="prefetch" href="/assets/js/510.c2ce94ed.js"><link rel="prefetch" href="/assets/js/511.e4f4cbf6.js"><link rel="prefetch" href="/assets/js/512.92cc5eea.js"><link rel="prefetch" href="/assets/js/513.c6540b81.js"><link rel="prefetch" href="/assets/js/514.bcb4c4db.js"><link rel="prefetch" href="/assets/js/515.8fc9c218.js"><link rel="prefetch" href="/assets/js/516.3abf8ec8.js"><link rel="prefetch" href="/assets/js/517.191e3495.js"><link rel="prefetch" href="/assets/js/518.f7490a54.js"><link rel="prefetch" href="/assets/js/519.cefdc6c5.js"><link rel="prefetch" href="/assets/js/52.45686e8f.js"><link rel="prefetch" href="/assets/js/520.fd5400d0.js"><link rel="prefetch" href="/assets/js/521.790a7914.js"><link rel="prefetch" href="/assets/js/522.d2d732e6.js"><link rel="prefetch" href="/assets/js/523.59038345.js"><link rel="prefetch" href="/assets/js/524.41b9469e.js"><link rel="prefetch" href="/assets/js/525.a9293cf1.js"><link rel="prefetch" href="/assets/js/526.1546e636.js"><link rel="prefetch" href="/assets/js/527.9b92cee9.js"><link rel="prefetch" href="/assets/js/528.46e341f2.js"><link rel="prefetch" href="/assets/js/529.273a7312.js"><link rel="prefetch" href="/assets/js/53.f10f0378.js"><link rel="prefetch" href="/assets/js/530.847e5906.js"><link rel="prefetch" href="/assets/js/531.56ee96f7.js"><link rel="prefetch" href="/assets/js/532.0f5b4b74.js"><link rel="prefetch" href="/assets/js/533.d4ff3e8b.js"><link rel="prefetch" href="/assets/js/534.33b475dd.js"><link rel="prefetch" href="/assets/js/535.2b903487.js"><link rel="prefetch" href="/assets/js/536.6b340f5d.js"><link rel="prefetch" href="/assets/js/537.e27bfa0f.js"><link rel="prefetch" href="/assets/js/538.73d308cb.js"><link rel="prefetch" href="/assets/js/54.837cb217.js"><link rel="prefetch" href="/assets/js/540.d4e5d795.js"><link rel="prefetch" href="/assets/js/541.b989c6a6.js"><link rel="prefetch" href="/assets/js/542.1e8b4b88.js"><link rel="prefetch" href="/assets/js/543.a92bf53b.js"><link rel="prefetch" href="/assets/js/544.debc6583.js"><link rel="prefetch" href="/assets/js/545.6827a53a.js"><link rel="prefetch" href="/assets/js/546.9698e1c1.js"><link rel="prefetch" href="/assets/js/547.a03b4b18.js"><link rel="prefetch" href="/assets/js/548.f61223ca.js"><link rel="prefetch" href="/assets/js/549.6e505ae9.js"><link rel="prefetch" href="/assets/js/55.c92cadaf.js"><link rel="prefetch" href="/assets/js/550.195e7b42.js"><link rel="prefetch" href="/assets/js/551.6b2e4aa4.js"><link rel="prefetch" href="/assets/js/56.b6716444.js"><link rel="prefetch" href="/assets/js/57.5cf6a90a.js"><link rel="prefetch" href="/assets/js/58.21b81421.js"><link rel="prefetch" href="/assets/js/59.dd714b8f.js"><link rel="prefetch" href="/assets/js/6.c88ff3b3.js"><link rel="prefetch" href="/assets/js/60.17ca08bf.js"><link rel="prefetch" href="/assets/js/61.db4999dd.js"><link rel="prefetch" href="/assets/js/62.cd357510.js"><link rel="prefetch" href="/assets/js/63.f362bd3e.js"><link rel="prefetch" href="/assets/js/64.bb88f681.js"><link rel="prefetch" href="/assets/js/65.b4d642e8.js"><link rel="prefetch" href="/assets/js/66.f4d4d451.js"><link rel="prefetch" href="/assets/js/67.6ce5557e.js"><link rel="prefetch" href="/assets/js/68.a85f2dfd.js"><link rel="prefetch" href="/assets/js/69.230c2df5.js"><link rel="prefetch" href="/assets/js/7.079dae5b.js"><link rel="prefetch" href="/assets/js/70.f4f423dd.js"><link rel="prefetch" href="/assets/js/71.9884327d.js"><link rel="prefetch" href="/assets/js/72.d17d15db.js"><link rel="prefetch" href="/assets/js/73.1df27236.js"><link rel="prefetch" href="/assets/js/74.f02f353d.js"><link rel="prefetch" href="/assets/js/75.3a989188.js"><link rel="prefetch" href="/assets/js/76.c770577b.js"><link rel="prefetch" href="/assets/js/77.d572f885.js"><link rel="prefetch" href="/assets/js/78.78ca90ff.js"><link rel="prefetch" href="/assets/js/79.ad6aaa0f.js"><link rel="prefetch" href="/assets/js/8.44bf364c.js"><link rel="prefetch" href="/assets/js/80.06247a70.js"><link rel="prefetch" href="/assets/js/81.b6831bbb.js"><link rel="prefetch" href="/assets/js/82.5852fb77.js"><link rel="prefetch" href="/assets/js/83.5074e0c7.js"><link rel="prefetch" href="/assets/js/84.af2f443d.js"><link rel="prefetch" href="/assets/js/85.f4e8e73d.js"><link rel="prefetch" href="/assets/js/86.eca0a10d.js"><link rel="prefetch" href="/assets/js/87.d377deee.js"><link rel="prefetch" href="/assets/js/88.db706dab.js"><link rel="prefetch" href="/assets/js/89.7fe4cdcc.js"><link rel="prefetch" href="/assets/js/9.03d2aac8.js"><link rel="prefetch" href="/assets/js/90.2152e200.js"><link rel="prefetch" href="/assets/js/91.a4525130.js"><link rel="prefetch" href="/assets/js/92.21e3ce5e.js"><link rel="prefetch" href="/assets/js/93.a59108fd.js"><link rel="prefetch" href="/assets/js/94.5faf53f5.js"><link rel="prefetch" href="/assets/js/95.1121854b.js"><link rel="prefetch" href="/assets/js/96.838c32e0.js"><link rel="prefetch" href="/assets/js/97.193cff9d.js"><link rel="prefetch" href="/assets/js/98.22ae4a35.js"><link rel="prefetch" href="/assets/js/99.dcc0688f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e16fe094.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>H先森</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>From FE Arch、To Full Stack</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>huangsq</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/me.jpg" alt="H先森" class="logo"> <span class="site-name">H先森</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      FE
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JS/" class="nav-link"><i class="undefined"></i>
  JS
</a></li><li class="dropdown-item"><!----> <a href="/HTML/" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/Styles/" class="nav-link"><i class="undefined"></i>
  Styles
</a></li><li class="dropdown-item"><!----> <a href="/TS/" class="nav-link"><i class="undefined"></i>
  TS
</a></li><li class="dropdown-item"><h4>Browser</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/BrowserCore/" class="nav-link"><i class="undefined"></i>
  BrCore(MP)
</a></li><li class="dropdown-subitem"><a href="/BrowserModel/" class="nav-link"><i class="undefined"></i>
  BrModel(MT)
</a></li></ul></li><li class="dropdown-item"><h4>Web</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/WebAPI/" class="nav-link"><i class="undefined"></i>
  WebAPI
</a></li><li class="dropdown-subitem"><a href="/WebStandard/" class="nav-link"><i class="undefined"></i>
  WebStandard
</a></li></ul></li><li class="dropdown-item"><h4>JQuery</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JQuery/" class="nav-link"><i class="undefined"></i>
  JQueryBase
</a></li></ul></li><li class="dropdown-item"><h4>Angular</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Angular/" class="nav-link"><i class="undefined"></i>
  AngularBase
</a></li></ul></li><li class="dropdown-item"><h4>React</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/React/" class="nav-link"><i class="undefined"></i>
  ReactBase
</a></li></ul></li><li class="dropdown-item"><h4>Vue</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/" class="nav-link"><i class="undefined"></i>
  VueBase
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      BE
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Nodejs</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/BE/" class="nav-link"><i class="undefined"></i>
  NodeBase
</a></li></ul></li><li class="dropdown-item"><h4>cPlus</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Cplus/" class="nav-link"><i class="undefined"></i>
  cPlus
</a></li></ul></li><li class="dropdown-item"><h4>Go</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Go/" class="nav-link"><i class="undefined"></i>
  Go
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Proj
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/" class="nav-link"><i class="undefined"></i>
  Project
</a></li><li class="dropdown-item"><h4>toolsForProject</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Tools/" class="nav-link"><i class="undefined"></i>
  Git&amp;webpack
</a></li></ul></li><li class="dropdown-item"><h4>other-ology</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/OtherOlogy/" class="nav-link"><i class="undefined"></i>
  English
</a></li></ul></li><li class="dropdown-item"><h4>W</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Interface/" class="nav-link"><i class="undefined"></i>
  interfaceEx
</a></li></ul></li><li class="dropdown-item"><h4>AI</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/AlgorithmAI/" class="nav-link"><i class="undefined"></i>
  AI
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      csBase
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/CSBase/" class="nav-link"><i class="undefined"></i>
  CSBase
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/me.jpg" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    huangsq
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>516</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>0</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      FE
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JS/" class="nav-link"><i class="undefined"></i>
  JS
</a></li><li class="dropdown-item"><!----> <a href="/HTML/" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/Styles/" class="nav-link"><i class="undefined"></i>
  Styles
</a></li><li class="dropdown-item"><!----> <a href="/TS/" class="nav-link"><i class="undefined"></i>
  TS
</a></li><li class="dropdown-item"><h4>Browser</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/BrowserCore/" class="nav-link"><i class="undefined"></i>
  BrCore(MP)
</a></li><li class="dropdown-subitem"><a href="/BrowserModel/" class="nav-link"><i class="undefined"></i>
  BrModel(MT)
</a></li></ul></li><li class="dropdown-item"><h4>Web</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/WebAPI/" class="nav-link"><i class="undefined"></i>
  WebAPI
</a></li><li class="dropdown-subitem"><a href="/WebStandard/" class="nav-link"><i class="undefined"></i>
  WebStandard
</a></li></ul></li><li class="dropdown-item"><h4>JQuery</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/JQuery/" class="nav-link"><i class="undefined"></i>
  JQueryBase
</a></li></ul></li><li class="dropdown-item"><h4>Angular</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Angular/" class="nav-link"><i class="undefined"></i>
  AngularBase
</a></li></ul></li><li class="dropdown-item"><h4>React</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/React/" class="nav-link"><i class="undefined"></i>
  ReactBase
</a></li></ul></li><li class="dropdown-item"><h4>Vue</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/" class="nav-link"><i class="undefined"></i>
  VueBase
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      BE
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Nodejs</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/BE/" class="nav-link"><i class="undefined"></i>
  NodeBase
</a></li></ul></li><li class="dropdown-item"><h4>cPlus</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Cplus/" class="nav-link"><i class="undefined"></i>
  cPlus
</a></li></ul></li><li class="dropdown-item"><h4>Go</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Go/" class="nav-link"><i class="undefined"></i>
  Go
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Proj
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/" class="nav-link"><i class="undefined"></i>
  Project
</a></li><li class="dropdown-item"><h4>toolsForProject</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Tools/" class="nav-link"><i class="undefined"></i>
  Git&amp;webpack
</a></li></ul></li><li class="dropdown-item"><h4>other-ology</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/OtherOlogy/" class="nav-link"><i class="undefined"></i>
  English
</a></li></ul></li><li class="dropdown-item"><h4>W</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Interface/" class="nav-link"><i class="undefined"></i>
  interfaceEx
</a></li></ul></li><li class="dropdown-item"><h4>AI</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/AlgorithmAI/" class="nav-link"><i class="undefined"></i>
  AI
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      csBase
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/CSBase/" class="nav-link"><i class="undefined"></i>
  CSBase
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>os</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/csBase/os/memoryManagement/VirtualMemory.html" class="sidebar-link">虚拟内存</a></li><li><a href="/csBase/os/memoryManagement/memoryLeak.html" class="sidebar-link">内存问题</a></li><li><a href="/csBase/os/process/IPC.html" class="sidebar-link">进程间 IPC 通信</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>csCompose</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>complier</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>logic</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc></h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>huangsq</span>
            
          <!---->
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">领域驱动设计</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>huangsq</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="领域驱动设计"><a href="#领域驱动设计" class="header-anchor">#</a> 领域驱动设计</h1> <h2 id="前端开发面临的困难"><a href="#前端开发面临的困难" class="header-anchor">#</a> 前端开发面临的困难</h2> <p>这里我们讲到的困难并不是指技术细节实现层面上的困难，而是从整个软件开发过程中，遇到对高复杂度业务的开发困难，比如说很难从代码中直观地看出业务逻辑，项目经历不同人手迭代导致的逻辑书写规范不一致而进一步导致的后续人员理解成本高昂，说简单点，就是在高复杂度的业务之上，开发人员没有很强的意识去简化逻辑，将业务知识直接体现在代码中，我们具体从以下几个点来讲解这个问题。</p> <h3 id="业务逻辑本身错综复杂"><a href="#业务逻辑本身错综复杂" class="header-anchor">#</a> 业务逻辑本身错综复杂</h3> <p>这一点作为开发者是很难避免的，在一个项目中，必然会存在一些逻辑复杂的业务，初始开发者是最能够理解该业务的每个细节的，将业务映射成实际的代码过程中，复杂的业务转换成的代码肯定是也是复杂的，如何将其直面地转换成更易理解的代码，让后续维护者阅读代码就能大致理解其业务逻辑概貌，而进一步提升维护者开发的信心。</p> <h3 id="对全局业务理解不够透彻"><a href="#对全局业务理解不够透彻" class="header-anchor">#</a> 对全局业务理解不够透彻</h3> <p>一个项目在开发过程中人员变动是很正常的，可能是前人离职后人接手，也可能是新增人手，新人对业务的理解往往是不够透彻的，可能一来就直接评审接着就进入开发，比如新增了一个接口需要将数据展示在页面上，该需求前因后果并不知晓，这就形成了一种“面向页面”开发模式，对业务不熟悉，自然无法合适地将新的需求代码融入整个项目体系中。</p> <h3 id="知识在团队传播中的丢失"><a href="#知识在团队传播中的丢失" class="header-anchor">#</a> 知识在团队传播中的丢失</h3> <p>复杂的业务逻辑知识在团队中是很难传播的，在人员的变动后，更是支离破碎，业务知识丢失后，开发者就会陷入“不知在哪改、不敢改、不愿改”的泥淖中，最终导致业务开发不下去，推倒重来，严重影响整个项目的进展，我们在这里能做的，就是尽量将代码写成既能运行又能展示业务逻辑知识的形态，让后续的维护者更有信心的面对“知识丢失”这一困境。</p> <h3 id="团队无法形成统一逻辑代码书写规范"><a href="#团队无法形成统一逻辑代码书写规范" class="header-anchor">#</a> 团队无法形成统一逻辑代码书写规范</h3> <p>这里我指的书写规范并不是指 eslint 之类的 style 规范，而是书写业务逻辑的位置、方式、分层、复用等，比如 A 为了将应用隔离而习惯将接口写在 UI 层直接处理数据，B 习惯将接口写在 common 模块供自己或者别人在 UI 层调用，A 习惯将 util 类工具函数直接和 api 接口混在一起写，而 B 更愿意将 util 类函数写得更通用放在 common 模块，假如新来了开发者 C ， C 看到各式各样的风格就会很疑惑，不知应该按照 A 还是 B 或者按照自己的习惯书写，随着开发人员越来越多，直接会导致了整个项目逻辑书写规范的崩溃，维护者的维护信心会大打折扣。</p> <h2 id="真实业务案例"><a href="#真实业务案例" class="header-anchor">#</a> 真实业务案例</h2> <p>为了让读者能够更直观的理解领域驱动设计的思想，我们用一个多页面应用来举一些例子，同时为了体现出普通设计与领域驱动设计的区别，我们会用两种设计方式来实现同一需求，并且每个需求都由团队中的 A B C D 成员完成，成员的技术水平与代码风格各不相同，我们会分析在普通设计下，会出现哪些使得代码复杂度失控的行为。之后我们使用领域驱动设计的思维去重构该项目，再分析其设计方式如何让项目业务逻辑更清晰与更易维护。</p> <h3 id="案例需求分析"><a href="#案例需求分析" class="header-anchor">#</a> 案例需求分析</h3> <p>该需求为一个大型零售业务的 demo 版，请读者尽可能地将其想象为更为复杂的业务场景，该项目分为商品主页、个人中心页、积分中心页、抽奖活动页面，具体需求为：</p> <ul><li><strong>A 成员</strong>：主页为商品展示页面，这个页面展示推荐的商品列表，同时在页面的右上角，展示用户的头像与用户名。</li> <li><strong>B 成员</strong>：实现用户的积分中心页面，该页面展示用户的剩余积分、积分记录列表、积分兑换礼品。</li> <li><strong>C 成员</strong>：实现个人中心页面，个人中心展示了用户的详细信息，除此之外还需要展示用户积分中心的积分。</li> <li><strong>D 成员</strong>：实现抽奖活动页面，用户在该页面能够使用积分中心中的积分进行抽奖，每次抽奖将会消耗100积分，中奖的奖品分虚拟奖品(优惠券、会员、积分)、实物奖品(需要用户填写收货地址)。</li></ul> <h2 id="不规范的代码设计"><a href="#不规范的代码设计" class="header-anchor">#</a> 不规范的代码设计</h2> <p>我们假设该团队中成员的规范意识不强烈，各有各的代码风格与分层习惯，这样的代码会写成怎样呢？</p> <p>该项目我已经传到 Github 中，读者可访问：ddd-fe-demo clone 代码后执行以下操作启动项目：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 切换到不规范写法的分支下git checkout feature/normal</span>
<span class="token comment">// 启动 mock 数据npm run server</span>
<span class="token comment">// 启动页面npm run start</span>
</code></pre></div><p>多页面应用，各页面url：</p> <ul><li>商城主页：http://localhost:3000/index.html</li> <li>个人中心：http://localhost:3000/user.html</li> <li>权益中心：http://localhost:3000/interest.html</li> <li>抽奖活动页面：http://localhost:3000/lottery.html</li></ul> <h3 id="mock数据"><a href="#mock数据" class="header-anchor">#</a> mock数据</h3> <p>这里我们用 mock 数据模仿后端的请求，下面是所以的数据接口，返回的数据请在 <code>/ddd-fe-demo/server/*.js</code>中查看:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// goods API</span>
<span class="token string">'GET /goods/list'</span><span class="token comment">// 获取商品列表</span>
<span class="token comment">// user API</span>
<span class="token string">'GET /user/detail'</span> <span class="token comment">// 获取用户信息详情</span>
<span class="token comment">// ponit API</span>
<span class="token string">'GET /interest/point'</span> <span class="token comment">// 获取用户剩余积分</span>
<span class="token string">'GET /interest/pointRecord'</span> <span class="token comment">// 获取用户积分记录数据</span>
<span class="token string">'GET /interest/gift'</span> <span class="token comment">// 获取积分兑换奖品</span>
<span class="token comment">// lottery API</span>
<span class="token string">'GET /lottery/detail'</span> <span class="token comment">// 获取该抽奖活动的详情</span>
<span class="token string">'GET /lottery/prizeList'</span> <span class="token comment">// 获取奖品列表</span>
<span class="token string">'POST /lottery/play'</span> <span class="token comment">// 触发抽奖</span>
<span class="token string">'POST /lottery/address'</span> <span class="token comment">// 填写奖品收货地址</span>
</code></pre></div><h3 id="视图层过厚"><a href="#视图层过厚" class="header-anchor">#</a> 视图层过厚</h3> <p><strong>问题代码的位置：</strong> <code>/src/page/index/components/GoodsItem.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;goods-item&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;main-info&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>img className<span class="token operator">=</span><span class="token string">&quot;goods-img&quot;</span> src<span class="token operator">=</span><span class="token punctuation">{</span>mainPic<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;goods-name&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>goodsName<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 当 status 为2时，表示无货 */</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span>status <span class="token operator">===</span> <span class="token number">2</span> 
        <span class="token operator">?</span> <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&quot;out-stock&quot;</span><span class="token operator">&gt;</span>已无货<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      	<span class="token operator">:</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;detail-info&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 当 activityType 为 3 表示该商品正在参与活动，为特价商品 */</span><span class="token punctuation">}</span>
      <span class="token punctuation">{</span>activityType <span class="token operator">===</span> <span class="token number">3</span> 
        <span class="token operator">?</span> <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&quot;price discount&quot;</span><span class="token operator">&gt;</span>特价：<span class="token punctuation">{</span>price <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">}</span> 元<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">:</span> <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&quot;price&quot;</span><span class="token operator">&gt;</span>价格：<span class="token punctuation">{</span>price <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">}</span> 元<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;tag-wrap&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>
          filterTag<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">&quot;tag&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>v<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre></div><p><strong>存在的问题：</strong> 视图层原本只需要展示 DOM 的结构，但这里却承担了各种逻辑判断、数据筛选、数据转换等“杂活”，视图代码与逻辑代码比例已经接近 1 : 1。</p> <p><strong>导致的后果：</strong> 难以直观地理解视图结构，并且在视图层写大段的注释显然是很不优雅。</p> <p><strong>优化思路：</strong> 视图层最好单一，数据展示到视图层之前，做好数据的筛选、转换，判断逻辑抽象层公用函数放入 util 中。</p> <h3 id="判断逻辑重复"><a href="#判断逻辑重复" class="header-anchor">#</a> 判断逻辑重复</h3> <p><strong>问题代码位置：</strong> <code>src/page/index/components/Nav.js</code> &amp; <code>src/page/user/App.js</code></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userInfo<span class="token punctuation">.</span>vip <span class="token operator">?</span> <span class="token string">'vip'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>avatar<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>userType <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token string">'尊敬的签约客户：'</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token plain-text"> </span><span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>userName<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>userType <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token string">'尊敬的签约客户：'</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">{</span>userName<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>存在的问题：</strong> 同样的逻辑在两个视图层中重复出现，这是团队协作经常会遇到的问题，假设例子中的逻辑较假设非常复杂的，各成员实现方式不一致，在后期维护将会造成许多问题。</p> <p><strong>导致的后果：</strong></p> <ul><li>违反了代码重复原则，后期需要统一修改时，涉及文件多成本大。</li> <li>团队中各成员形成“知识不同步”,同样的功能 A B 都实现了，但是互相却不知道，并且容易出现因实现方案不同导致的结果不一致的问题。</li></ul> <p><strong>优化思路：</strong> 试图将某个实体抽象成一个类，比如将用户抽象成 User 类，类中有一个方法为 isContractUser 用来判断用户是否为签约客户，之后视图层只需要调用 <code>User.isContractUser()</code> 便能够复用这块逻辑，并且容易理解其含义。</p> <h3 id="接口调用不统一"><a href="#接口调用不统一" class="header-anchor">#</a> 接口调用不统一</h3> <p><strong>问题代码位置：</strong> <code>src/page/index/apis/user.js</code> &amp; <code>src/page/lottery/apis/user.js</code> &amp; <code>src/page/user/apis/user.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'@common/util/http'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token string">'/user/detail'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>存在问题：</strong> 多块业务页面用到了同一个接口，并且在各自的根目录下都有一份相同的请求代码。作为成员，可能有这样的辨词：“我怕他改动了这个接口的参数配置会导致我的页面出问题，为了相互隔离而将其复制一份”，虽然有道理，但是这不是最优解。</p> <p><strong>导致的后果：</strong> 非常直观地后果就是代码重复不优雅，修改一块业务却找到了很多相同的请求逻辑，容易搞混，并且接口发生变化后，统一维护的成本较大。</p> <p><strong>优化思路：</strong> 将整个项目中所有的请求函数统一放在 commom 中管理，根据领域划分，比如说用户领域下，存放用户相关的接口，接口函数尽量可配置、可拓展，供多个业务使用。</p> <h3 id="接口字段不可控性"><a href="#接口字段不可控性" class="header-anchor">#</a> 接口字段不可控性</h3> <p><strong>问题代码：</strong> <code>src/page/user/App.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      userInfo<span class="token operator">:</span> data
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function-variable function">getUserPonitCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getUserPointCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">count</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        pointCount<span class="token operator">:</span> count
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> userInfo<span class="token punctuation">,</span> pointCount <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
  <span class="token comment">// vip 单从字面上难以辨别出是一个bool类型，更规范的命名应该是 isVip</span>
  <span class="token comment">// avatar 是一个 url 类型的字段，更规范的写法应该是 avatarUrl 会更直观</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> avatar<span class="token punctuation">,</span> userName<span class="token punctuation">,</span> userType<span class="token punctuation">,</span> tel<span class="token punctuation">,</span> vip<span class="token punctuation">,</span> email<span class="token punctuation">,</span> vipValidityDate <span class="token punctuation">}</span> <span class="token operator">=</span> userInfo<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>存在的问题：</strong> 定义字段在理想的情况下是前端主导，且前后端有共同的认知，但是不排除特殊情况下接口字段定义混乱且不直观。</p> <p><strong>导致的后果：</strong> 阅读代码时，接口字段不规范，在视图层展示时，会导致误解或者难以理解的代码逻辑。</p> <p><strong>优化思路：</strong> 将接口层抽离出来，在接口返回时，逐一将字段列举出来，将不符合规范的字段进行纠正，转换成更易理解的词语，甚至在这一层中就能将很多字段内容进行转换，比如后端返回的金额为分单位*100的整数，在这一层中即将其转换为浮点数，在视图层中即可直接使用。</p> <h3 id="忽略业务整体"><a href="#忽略业务整体" class="header-anchor">#</a> 忽略业务整体</h3> <p><strong>问题代码：</strong> 上述整个项目例子。</p> <p><strong>存在的问题：</strong> 在一个庞大、多人协作的项目，作为其中一员很可能出现对整个系统理解不够，只知道自己负责的那几个页面，逐步恶化成“面向页面编程”。</p> <p><strong>导致的后果：</strong></p> <p>这对整个项目的“成长”是不利的，会导致像上述举例代码中出现的“重复性”问题。假如开发者对整个项目有全局的了解，在编码时，会考虑更多的“可拓展性”与“预判未来性”，或者在接手其他成员负责的领域也会减少很多上手成本。</p> <p>从业务的角度看，在需求评审的过程中，熟悉整体业务，会对其新的需求进行更深的思考，判断其对整个项目是否会有明显的“驱动”作用，而进一步考虑是否应该拒绝该需求或者提出更好的需求建议，避免成为产品经理说什么就做什么的“面向页面编程”工程师。</p> <p><strong>优化思路：</strong> 将每一块业务划分成不同的领域，各领域下包含哪些服务，每个页面调用的并不是 API 接口，而是各自领域的服务。</p> <h2 id="领域驱动设计-2"><a href="#领域驱动设计-2" class="header-anchor">#</a> 领域驱动设计</h2> <p>首先提出领域的角色是需求方，每一个需求都必将会映射到某个领域，比如“搜索商品”这个动作对应着商品中心域，“用户登录”对应着用户信息&amp;鉴权域。从产品-后端-前端对其领域的划分认知都是一致的，这是各角色对其整个项目进行合作的基础，在一起讨论问题时，都知道对方讲述的信息是处在哪个域上。</p> <p>在对领域具有统一认知的情况下，需求方也会更谨慎、清晰地提出新的需求或是更改业务逻辑，各方人员对其业务的熟悉后，也能从自己负责的职能角度上表达出自己对新业务新迭代的看法或建议，而不是“机械”地根据需求文档完成自己的职责。</p> <p>假设各方角色对整体业务领域不熟悉，大家对其业务的认知不统一，项目很快就会成为一个松散的结构，需求方、开发方、设计方的产出模型无法大致匹配，最后成为开发/维护代价极高的“危楼”项目。</p> <p>领域驱动设计不是万能的，它只是解决了软件开发中的部分问题，也不是可适用于任何场景的，但是其核心思想是可以借鉴到软件设计与开发过程中的，本文主要讲解领域驱动设计在前端中解决的问题以及核心思想。</p> <h3 id="业务领域"><a href="#业务领域" class="header-anchor">#</a> 业务领域</h3> <p>在庞大的项目中，领域是非常繁多的，在对领域进行划分时，我们需要与产品、后端进行统一。我理解的先后流程是：产品产出需求，需求被划分到已有或新的领域，后端接到需求根据其领域的划分产出接口文档，前端根据产品&amp;后端的领域划分设计出前端的领域，三方大致统一领域划分后，各自对需求概念、名词认知统一，最后才进行代码的编写。</p> <p>我们根据上述项目业务进行领域划分，得到以下领域模块图，每个具体的功能都明确对应唯一一块领域，产品、后端、前端对其都应该有一致的认知。</p> <h3 id="前端领域设计与结构分层"><a href="#前端领域设计与结构分层" class="header-anchor">#</a> 前端领域设计与结构分层</h3> <p>回到前端开发的设计上，我们理解了上述讲解的业务领域的概念后，接着将其落实到前端开发中，我们重点需要理解的概念是 <code>职责分明，合理分层</code>，根据上述提出的“问题代码”，我们希望在前端结构设计中能做到：</p> <ol><li><strong>视图层尽可能薄</strong>：获得的数据能够直接使用到视图层中，禁止在视图层中对数据进行转换、筛选、计算等逻辑操作。</li> <li><strong>不写重复逻辑</strong>：遇到相同的逻辑尽可能复用而不是重写，逻辑函数尽可能写成可拓展可维护，暴露给团队其他成员。</li> <li><strong>不同职责的代码进行分层</strong>：将不同职责代码合理分层，每层尽可能纯净，互不影响。</li> <li><strong>前端字段不受后端影响</strong>：返回字段进行纠正，字段含义尽可能直观，在视图层使用时，能够更清晰地描述视图结构。</li> <li><strong>可纵观全局领域</strong>：前端进行领域模块结构设计时，能够纵览整个项目下所有的领域，以及每个领域下具有的逻辑功能。</li></ol> <p>带着以上五个目的，我们以第一步的业务领域为基础，进行前端结构的分层，并且开始改造上文出现问题的项目。</p> <p>改造后的项目在 ddd-fe-demo 中，请读者 clone 下来后，进行以下操作启动项目：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>git checkout masternpm run server <span class="token comment">// 启动 mock 接口npm run start // 启动前端服务</span>
</code></pre></div><p>同样是访问以下 url</p> <ul><li>商城主页：http://localhost:3000/index.html</li> <li>个人中心：http://localhost:3000/user.html</li> <li>权益中心：http://localhost:3000/interest.html</li> <li>抽奖活动页面：http://localhost:3000/lottery.html</li></ul> <p>建议读者在开始下面内容阅读前，将改造后的源码大致阅读一遍，带着问题进入接下来的内容，会有更深的理解。</p> <h4 id="项目结构图"><a href="#项目结构图" class="header-anchor">#</a> 项目结构图</h4> <p>为了让各层职责分明，视图层尽可能纯粹，我们将各功能块代码进行分层，得到以下层级：</p> <p>分层之后明显地降低了项目的复杂度，将前端的业务逻辑代码与视图逻辑进行解耦。</p> <h4 id="文件结构"><a href="#文件结构" class="header-anchor">#</a> 文件结构</h4> <p>我们根据上述结构图的分层思想，在实际项目中定义了以下的文件目录：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>├── common  │
  ├── components <span class="token comment">// 公用组件│</span>
  ├── constants <span class="token comment">// 全局变量│</span>
    │
    ├── goods│
    │ │
      └── index<span class="token punctuation">.</span>js│
        │
        ├── <span class="token operator">...</span>│
        ├── data <span class="token operator">-</span> source <span class="token comment">// 数据接口层│</span>
            │
            ├── goods│
            │
│
├── requestApis<span class="token punctuation">.</span>js│
│
└── translators<span class="token punctuation">.</span>js│
│
├── <span class="token operator">...</span>│
├── domains <span class="token comment">// 领域层│</span>
│
├── goods <span class="token operator">-</span> domain│
├── entities <span class="token comment">// 实体│</span>
│
│
│
└── goods<span class="token punctuation">.</span>js│
│
│
└── goodsService<span class="token punctuation">.</span>js <span class="token comment">// 领域Service服务│</span>
│
├── <span class="token operator">...</span>│
└── util <span class="token comment">// 公用函数│</span>
└── http<span class="token punctuation">.</span>js
└── page <span class="token comment">// 页面视图层</span>
├── index    │
├── App<span class="token punctuation">.</span>js    │
├── components    │
│
├── GoodsItem<span class="token punctuation">.</span>js    │
│
├── GoodsItem<span class="token punctuation">.</span>scss    │
│
├── Nav<span class="token punctuation">.</span>js    │
│
└── Nav<span class="token punctuation">.</span>scss
│
├── index<span class="token punctuation">.</span>js
│
└── services <span class="token comment">// 该页面需要用到的Service</span>
│
└── index<span class="token punctuation">.</span>js
├──
</code></pre></div><h4 id="数据接口层-data-source"><a href="#数据接口层-data-source" class="header-anchor">#</a> 数据接口层 data-source</h4> <ul><li>requestApi：数据请求层，负责 http 请求，是项目中唯一与后端服务进行交流的一层。</li></ul> <p>代码位置：<code>src/common/data-source/interest/requestApis.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'@common/util/http'</span><span class="token punctuation">;</span>
<span class="token comment">// src / common / data - source / interest / request / Apis.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> pointRecordTranslator<span class="token punctuation">,</span> pointGiftTranslator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./translators'</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUserPointRecordList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token string">'/interest/pointRecord'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token function">pointRecordTranslator</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getInterestGiftList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token string">'/interest/gift'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token function">pointGiftTranslator</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>分层作用：</strong> 在这一层中集结了 interest 领域下所有的接口函数，避免了数据接口分散到各个页面，统一存放更易管理，这里我们解决了上文提出的 <code>接口调用不统一</code>问题。</p> <ul><li>translator：数据清洗层，这层负责将后端返回的数据“清洗”，改造成更直观地字段(key)、更方便使用的数据(value)。</li></ul> <p>代码位置：<code>src/common/data-source/goods/translators.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">goodsTranslator</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  id<span class="token punctuation">,</span> goodsName<span class="token punctuation">,</span> price<span class="token punctuation">,</span> status<span class="token punctuation">,</span> activityType<span class="token punctuation">,</span> desc<span class="token punctuation">,</span>
  brand<span class="token punctuation">,</span> relatedModelId<span class="token punctuation">,</span> mainPic<span class="token punctuation">,</span> tag<span class="token punctuation">,</span> relatedModelImg
<span class="token punctuation">}</span></span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">,</span> name<span class="token operator">:</span> goodsName<span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token punctuation">(</span>price <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> status<span class="token punctuation">,</span> activityType<span class="token punctuation">,</span>
    description<span class="token operator">:</span> desc<span class="token punctuation">,</span> brandName<span class="token operator">:</span> brand<span class="token punctuation">,</span> mainPicUrl<span class="token operator">:</span> mainPic<span class="token punctuation">,</span> tags<span class="token operator">:</span> tag
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>分层作用：</strong> 在这一层对接口字段、内容经过二次加工，避免了后端定义字段不规范、混乱对前端的影响，含义清晰、规范的字段在视图层使用时更具有表现力，这里我们解决了上文提出的 <code>接口字段不可控性</code>问题。</p> <p>数据接口层是整个项目的根基，提供了结构清晰、定义规范、可直接使用的数据。</p> <h4 id="领域层-domain"><a href="#领域层-domain" class="header-anchor">#</a> 领域层 -&gt; domain</h4> <p>领域层是整个项目的核心层，它掌管了所有领域下的行为与定义，它是整个项目中最能体现业务知识的一层。</p> <ul><li>entity：实体，是领域服务的载体，它定义了业务中某个个体的属性与方法，比如抽奖活动中的奖品、活动，这些都可以抽象为实体，它在全局领域中是唯一的，不可能在别的领域中存在相同的实体。</li></ul> <p><strong>代码位置：</strong> <code>src/common/domains/lottery-domain/entities/lottery.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** * 抽奖活动实体 */</span>
<span class="token keyword">import</span> dayjs <span class="token keyword">from</span> <span class="token string">'dayjs'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> lotteryTypeMap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@constants/lottery'</span>
<span class="token keyword">class</span> <span class="token class-name">Lottery</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">lottery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> lottery<span class="token punctuation">.</span>id
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> lottery<span class="token punctuation">.</span>name
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> lottery<span class="token punctuation">.</span>type
    <span class="token keyword">this</span><span class="token punctuation">.</span>startDate <span class="token operator">=</span> lottery<span class="token punctuation">.</span>startDate
    <span class="token keyword">this</span><span class="token punctuation">.</span>endDate <span class="token operator">=</span> lottery<span class="token punctuation">.</span>endDate
  <span class="token punctuation">}</span>    <span class="token comment">// 获取活动时间范围</span>
  <span class="token function">getLotteryTimeScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">dayjs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>startDate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;M月D日&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">dayjs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>endDate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;M月D日&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 获取活动类型描述</span>
  <span class="token function">getLotteryType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> lotteryTypeMap<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span>title
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Lottery
</code></pre></div><p>在前端中，我们把它定义为一个 class 类，构造函数中初始化实体的属性，在类中定义了实体的方法，属性和方法的返回值主要是用于视图层中的直接展示，同一个实体的逻辑确保只在实体类中编写，在不同视图下可复用，这里我们解决了上文提出的 <code>判断逻辑重复</code>的问题。</p> <ul><li>service：领域服务层，这一层中定义了领域的行为，供视图层直接调用。</li></ul> <p><strong>代码位置：</strong> <code>src/common/domains/lottery-domain/lotteryService.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* service：领域服务层，这一层中定义了领域的行为，供视图层直接调用。 */</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getLotteryDetail<span class="token punctuation">,</span> getPrizeList<span class="token punctuation">,</span> playLottery<span class="token punctuation">,</span> savePrizeAddress <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@data-source/lottery/requestApis'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Prize <span class="token keyword">from</span> <span class="token string">'./entities/prize'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Lottery <span class="token keyword">from</span> <span class="token string">'./entities/lottery'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">LotteryService</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 获取本次抽奖活动详情
   * @param {string} id 活动id
   */</span>
  <span class="token keyword">static</span> <span class="token function">getLotteryDetail</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getLotteryDetail</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">lottery</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Lottery</span><span class="token punctuation">(</span>lottery<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 获取本次抽奖活动的奖品列表
   * @param {string} id 抽奖活动id
   */</span>
  <span class="token keyword">static</span> <span class="token function">getPrizeList</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getPrizeList</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">list</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Prize</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 进行抽奖
   * @param {string} id 抽奖活动id
   */</span>
  <span class="token keyword">static</span> <span class="token function">playLottery</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">playLottery</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> recordId<span class="token punctuation">,</span> prize <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> recordId<span class="token punctuation">,</span> prize<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Prize</span><span class="token punctuation">(</span>prize<span class="token punctuation">)</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 填写中奖的收货地址信息
   * @param {Object} param0 中奖记录id以及地址信息
   */</span>
  <span class="token keyword">static</span> <span class="token function">savePrizeAddress</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> recordId<span class="token punctuation">,</span> name<span class="token punctuation">,</span> phoneNumber<span class="token punctuation">,</span> address <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> recordId<span class="token punctuation">,</span> name<span class="token punctuation">,</span> phoneNumber<span class="token punctuation">,</span> address <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">savePrizeAddress</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> LotteryService
</code></pre></div><p><strong>分层作用：</strong> 我们可以看到，Service 层连接了 entity 层与 data-source 层，接收后端返回的数据将其转换成具有属性与方法的 entity 实体类，供视图层直接进行展示。不仅如此，Service 层还定义了该领域下的所有行为，比如填写收货地址。领域服务层涵盖了整个业务领域的行为，直观地体现了业务需求。这里我们解决了上文提出的 <code>忽略业务整体</code>问题。</p> <h4 id="view-视图层-view"><a href="#view-视图层-view" class="header-anchor">#</a> View 视图层 -&gt; view</h4> <p>视图层也就是我们书写交互逻辑、样式的一层，可以使用纯 HTML 或者框架(React、Vue)，这一层只需要调用了领域的服务，将返回值直接体现在视图层中，无需编写条件判断、数据筛选、数据转换等与视图展示无关的逻辑代码，这些“糙活”都在其他层中以已经完成，所以视图层是非常“薄”的一层，只需关注视图的展示与交互，整个 HTML 结构非常直观清晰。</p> <p><strong>代码位置：</strong> <code>src/page/user/App.js</code></p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UserService<span class="token punctuation">,</span> InterestService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./services'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> User <span class="token keyword">from</span> <span class="token string">'@domain/user-domain/entities/user'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SIGN_USER_TYPE</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@constants/user'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./App.scss&quot;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React</span><span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span> pointCount<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUserPonitCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 获取用户信息</span>
  <span class="token function-variable function">getUserInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    UserService<span class="token punctuation">.</span><span class="token function">getUserDetail</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> user <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 获取用户积分</span>
  <span class="token function-variable function">getUserPonitCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    InterestService<span class="token punctuation">.</span><span class="token function">getUserPointCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">count</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pointCount<span class="token operator">:</span> count <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> pointCount<span class="token punctuation">,</span> user <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">个人中心</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token keyword">type</span> <span class="token operator">===</span> <span class="token constant">SIGN_USER_TYPE</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">尊敬的</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span><span class="token function">getUserTypeTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">：</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">绑定手机号： </span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>phoneNumber<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">绑定email： </span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>email<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>isVip <span class="token operator">?</span> <span class="token string">'vip'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>avatarUrl<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token function">isNeedRemindUserVipLack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span>isVip <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">会员还有</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token function">getVipRemainDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">天</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lottery-tips<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">剩余积分：</span><span class="token punctuation">{</span>pointCount<span class="token punctuation">}</span><span class="token plain-text"> 分</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/interest.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">前往积分权益中心</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* 我们可以对比之前写的“问题代码”： */</span>
  <span class="token function">render2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> userInfo<span class="token punctuation">,</span> pointCount <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> avatar<span class="token punctuation">,</span> userName<span class="token punctuation">,</span> userType<span class="token punctuation">,</span> tel<span class="token punctuation">,</span> vip<span class="token punctuation">,</span> email<span class="token punctuation">,</span> vipValidityDate <span class="token punctuation">}</span> <span class="token operator">=</span> userInfo<span class="token punctuation">;</span>
    <span class="token comment">// console.log()</span>
    <span class="token keyword">const</span> remainDay <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>vipValidityDate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">diff</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'day'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">个人中心</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>userType <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token string">'尊敬的签约客户：'</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">{</span>userName<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">绑定手机号： </span><span class="token punctuation">{</span>tel<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">绑定email： </span><span class="token punctuation">{</span>email<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>vip <span class="token operator">?</span> <span class="token string">'vip'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>avatar<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>remainDay <span class="token operator">&lt;</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> vip <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">会员还有</span><span class="token punctuation">{</span>remainDay<span class="token punctuation">}</span><span class="token plain-text">天</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lottery-tips<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">剩余积分：</span><span class="token punctuation">{</span>pointCount<span class="token punctuation">}</span><span class="token plain-text"> 分</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/interest.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">前往积分权益中心</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p><strong>分层作用：</strong> 将 Service 中返回的数据直接使用，视图层中只编写交互与样式，不管是 HTML 纯粹的结构还是代码可读性，新的设计都更讨人喜欢。除了视图层与前端框架有关，其他层可独立应用于任何框架的，分层的结构解决了上文提出的 <code>视图层过厚</code>问题。</p> <h2 id="实践过程中的建议"><a href="#实践过程中的建议" class="header-anchor">#</a> 实践过程中的建议</h2> <h3 id="坚定信仰"><a href="#坚定信仰" class="header-anchor">#</a> 坚定信仰</h3> <p>领域驱动设计的初衷是将项目进行合理地结构分层，降低复杂项目的维护难度，有效地减少团队成员之间的协作成本，将业务直观地映射成代码，让开发者更关注业务整体的本身，不局限于自己的职责，共同提出更好的业务建议，只有业务真正有价值了，你写的优秀代码才能保证被传承下去。</p> <p>而一个复杂项目的生命周期是非常久的，可能长达几年，维护旧代码时间肯定会比编写新需求更长，为了后期能够爽快地维护，前期多付出写时间去改善代码结构与质量，从长远的角度来看，是非常值得的。就算中途离职，留给后人的代码也能做到问心无愧，更不会留下臭名昭著的名声。</p> <p>所以，这里我想说的是，做一个更理想主义的程序员，坚定自己的信念，在实行领域驱动设计的初期或许会出现各种不适，甚至会受到冷嘲热讽，挺过了这段适应期后，就能体会到自己设计的结构与代码很丝滑很优雅。</p> <h3 id="团队成员实时同步"><a href="#团队成员实时同步" class="header-anchor">#</a> 团队成员实时同步</h3> <p>团队成员之间都需要熟悉全局的领域模型，特别是当需要修改他人负责领域下的代码，更是要熟悉其领域下的细节。当团队中加入了新的成员后，先向他介绍我们项目下的领域模型，再分享我们的项目架构与分层。</p> <p>在另一方面，团队协作开发最不利的因素是闭门造车，大家都不知道对方做了什么、怎么做的，很常见的问题就是重复开发，建议团队指定间隔多久进行一次讨论，大家分享自己最近做了什么或者遇到了什么困难，或许自己的困惑其他人之前也遇到过并且有很好的解决方案。大家也可以一起吐槽需求方不合理的需求，听听大家的观点，说不定还能提高自己的业务思考能力。</p> <p>既然选择了领域驱动设计，那么自然地要把自己融入到整个业务、整个项目中，把自己认定为项目中不可缺少的一部分，肩负了业务前进的重任。</p> <h3 id="严格的-review"><a href="#严格的-review" class="header-anchor">#</a> 严格的 Review</h3> <p>因为团队中各成员的能力水平、对领域驱动设计的领悟程度不一致，在初期可能会写出不规范的代码或者结构，甚至出现错误的领域划分，在合入分支前进行严格的 Code Review 是非常有必要的，领域驱动设计是非常不抗“腐蚀”的，不能接受不规范的代码或结构，在初期的 Review 成本或许有些大，等成员之间认知统一后，后续便能愉快地一起写代码了</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#前端开发面临的困难" class="sidebar-link reco-side-前端开发面临的困难" data-v-70334359>前端开发面临的困难</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#业务逻辑本身错综复杂" class="sidebar-link reco-side-业务逻辑本身错综复杂" data-v-70334359>业务逻辑本身错综复杂</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#对全局业务理解不够透彻" class="sidebar-link reco-side-对全局业务理解不够透彻" data-v-70334359>对全局业务理解不够透彻</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#知识在团队传播中的丢失" class="sidebar-link reco-side-知识在团队传播中的丢失" data-v-70334359>知识在团队传播中的丢失</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#团队无法形成统一逻辑代码书写规范" class="sidebar-link reco-side-团队无法形成统一逻辑代码书写规范" data-v-70334359>团队无法形成统一逻辑代码书写规范</a></li><li class="level-2" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#真实业务案例" class="sidebar-link reco-side-真实业务案例" data-v-70334359>真实业务案例</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#案例需求分析" class="sidebar-link reco-side-案例需求分析" data-v-70334359>案例需求分析</a></li><li class="level-2" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#不规范的代码设计" class="sidebar-link reco-side-不规范的代码设计" data-v-70334359>不规范的代码设计</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#mock数据" class="sidebar-link reco-side-mock数据" data-v-70334359>mock数据</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#视图层过厚" class="sidebar-link reco-side-视图层过厚" data-v-70334359>视图层过厚</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#判断逻辑重复" class="sidebar-link reco-side-判断逻辑重复" data-v-70334359>判断逻辑重复</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#接口调用不统一" class="sidebar-link reco-side-接口调用不统一" data-v-70334359>接口调用不统一</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#接口字段不可控性" class="sidebar-link reco-side-接口字段不可控性" data-v-70334359>接口字段不可控性</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#忽略业务整体" class="sidebar-link reco-side-忽略业务整体" data-v-70334359>忽略业务整体</a></li><li class="level-2" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#领域驱动设计-2" class="sidebar-link reco-side-领域驱动设计-2" data-v-70334359>领域驱动设计</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#业务领域" class="sidebar-link reco-side-业务领域" data-v-70334359>业务领域</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#前端领域设计与结构分层" class="sidebar-link reco-side-前端领域设计与结构分层" data-v-70334359>前端领域设计与结构分层</a></li><li class="level-2" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#实践过程中的建议" class="sidebar-link reco-side-实践过程中的建议" data-v-70334359>实践过程中的建议</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#坚定信仰" class="sidebar-link reco-side-坚定信仰" data-v-70334359>坚定信仰</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#团队成员实时同步" class="sidebar-link reco-side-团队成员实时同步" data-v-70334359>团队成员实时同步</a></li><li class="level-3" data-v-70334359><a href="/csBase/designMode/domainDrivenDesign.html#严格的-review" class="sidebar-link reco-side-严格的-review" data-v-70334359>严格的 Review</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.855b72e2.js" defer></script><script src="/assets/js/3.bc729665.js" defer></script><script src="/assets/js/1.70674a6e.js" defer></script><script src="/assets/js/539.1b7b26d3.js" defer></script>
  </body>
</html>
