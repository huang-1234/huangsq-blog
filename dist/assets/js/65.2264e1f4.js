(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{573:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"tcpdiffudp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcpdiffudp"}},[t._v("#")]),t._v(" TCPdiffUDP")]),t._v(" "),a("p",[t._v("本文由搬运和总结了多篇文章加上自己对计网的学习")]),t._v(" "),a("h2",{attrs:{id:"tcp的优点-可靠-稳定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp的优点-可靠-稳定"}},[t._v("#")]),t._v(" TCP的优点： 可靠，稳定")]),t._v(" "),a("p",[t._v("TCP的可靠体现在TCP在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认、窗口、重传、拥塞控制机制，在数据传完后，还会断开连接用来节约系统资源。")]),t._v(" "),a("h2",{attrs:{id:"tcp的缺点-慢-效率低-占用系统资源高-易被攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp的缺点-慢-效率低-占用系统资源高-易被攻击"}},[t._v("#")]),t._v(" TCP的缺点： 慢，效率低，占用系统资源高，易被攻击")]),t._v(" "),a("p",[t._v("TCP在传递数据之前，要先建连接，这会消耗时间，而且在数据传递时，确认机制、重传机制、拥塞控制机制等都会消耗大量的时间，而且要在每台设备上维护所有的传输连接，事实上，每个连接都会占用系统的CPU、内存等硬件资源。 而且，"),a("font",{attrs:{color:"red"}},[t._v("因为TCP有确认机制、三次握手机制，这些也导致TCP容易被人利用，实现DOS、DDOS、CC等攻击")]),t._v("。")],1),t._v(" "),a("h2",{attrs:{id:"udp的优点-快。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#udp的优点-快。"}},[t._v("#")]),t._v(" UDP的优点： 快。")]),t._v(" "),a("p",[t._v("比TCP稍安全 UDP没有TCP的握手、确认、窗口、重传、拥塞控制等机制，UDP是一个无状态的传输协议，所以它在传递数据时非常快。"),a("font",{attrs:{color:"blue"}},[t._v("没有TCP的这些机制，UDP较TCP被攻击者利用的漏洞就要少一些")]),t._v("。")],1),t._v(" "),a("h2",{attrs:{id:"udp缺点-不可靠-不稳定-易丢包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#udp缺点-不可靠-不稳定-易丢包"}},[t._v("#")]),t._v(" UDP缺点：不可靠，不稳定，易丢包")]),t._v(" "),a("p",[t._v("但UDP也是无法避免攻击的，比如：UDP Flood攻击…… UDP的缺点： 不可靠，不稳定 因为UDP没有TCP那些可靠的机制，在数据传递时，如果网络质量不好，就会很容易丢包。")]),t._v(" "),a("h2",{attrs:{id:"选择使用tcpudp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选择使用tcpudp"}},[t._v("#")]),t._v(" 选择使用TCPUDP")]),t._v(" "),a("p",[t._v("基于上面的优缺点，那么：")]),t._v(" "),a("p",[t._v("什么时候应该使用TCP： 当对网络通讯质量有要求的时候，比如：整个数据要准确无误的传递给对方，这往往用于一些要求可靠的应用，比如HTTP、HTTPS、FTP等传输文件的协议，POP、SMTP等邮件传输的协议。 在日常生活中，常见使用TCP协议的应用如下： 浏览器，用的HTTP FlashFXP，用的FTP Outlook，用的POP、SMTP Putty，用的Telnet、SSH QQ文件传输 …………")]),t._v(" "),a("p",[t._v("什么时候应该使用UDP： 当对网络通讯质量要求不高的时候，要求网络通讯速度能尽量的快，这时就可以使用UDP。 比如，日常生活中，常见使用UDP协议的应用如下： QQ语音 QQ视频 TFTP ……")]),t._v(" "),a("p",[t._v("有些应用场景对可靠性要求不高会用到UPD，比如长视频，要求速率")]),t._v(" "),a("h2",{attrs:{id:"小结tcp与udp的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结tcp与udp的区别"}},[t._v("#")]),t._v(" 小结TCP与UDP的区别：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("基于连接与无连接；\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v("对系统资源的要求（"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("较多，"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("少）；\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("程序结构较简单；\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v("流模式与数据报模式 ；\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("保证数据正确性，"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("可能丢包，"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("保证数据顺序，"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("不保证。\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("tcp协议和udp协议的差别 \n           "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v(" \n是否连接     面向连接     面向非连接 \n传输可靠性    可靠          不可靠 \n应用场合     少量数据     传输大量数据 \n\n速度        慢           快\n\n")])])]),a("h2",{attrs:{id:"tcp-udp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-udp"}},[t._v("#")]),t._v(" TCP UDP")]),t._v(" "),a("h3",{attrs:{id:"tcp与udp基本区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp与udp基本区别"}},[t._v("#")]),t._v(" TCP与UDP基本区别")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("基于连接与无连接\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("要求系统资源较多，"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("较少； \n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("程序结构较简单 \n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v("流模式（"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("）与数据报模式")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("保证数据正确性，"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("可能丢包 \n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("保证数据顺序，"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("不保证 \n")])])]),a("h3",{attrs:{id:"udp应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#udp应用场景"}},[t._v("#")]),t._v(" UDP应用场景：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("面向数据报方式\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v("网络数据大多为短消息\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),t._v("拥有大量Client\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v("对数据安全性无特殊要求\n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),t._v("网络负担非常重，但对响应速度要求高\n")])])]),a("h3",{attrs:{id:"具体编程时的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#具体编程时的区别"}},[t._v("#")]),t._v(" 具体编程时的区别")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("socket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("的参数不同 \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v(" Server不需要调用listen和accept \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("收发数据用sendto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("recvfrom函数 \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("：地址信息在connect"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("accept时确定 \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("：在sendto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("recvfrom函数中每次均 需指定地址信息 \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("：shutdown函数无效\n")])])]),a("h2",{attrs:{id:"编程区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编程区别"}},[t._v("#")]),t._v(" 编程区别")]),t._v(" "),a("p",[t._v("通常我们在说到网络编程时默认是指TCP编程，即用前面提到的socket函数创建一个socket用于TCP通讯，函数参数我们通常填为SOCK_STREAM。即socket(PF_INET, SOCK_STREAM, 0)，这表示建立一个socket用于流式网络通讯。\n　  SOCK_STREAM这种的特点是面向连接的，即每次收发数据之前必须通过connect建立连接，也是双向的，即任何一方都可以收发数据，协议本身提供了一些保障机制保证它是可靠的、有序的，即每个包按照发送的顺序到达接收方。")]),t._v(" "),a("p",[t._v("而SOCK_DGRAM这种是User Datagram Protocol协议的网络通讯，它是无连接的，不可靠的，因为通讯双方发送数据后不知道对方是否已经收到数据，是否正常收到数据。任何一方建立一个socket以后就可以用sendto发送数据，也可以用recvfrom接收数据。根本不关心对方是否存在，是否发送了数据。它的特点是通讯速度比较快。大家都知道TCP是要经过三次握手的，而UDP没有。")]),t._v(" "),a("p",[t._v("基于上述不同，UDP和TCP编程步骤也有些不同，如下：")]),t._v(" "),a("h3",{attrs:{id:"tcp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp"}},[t._v("#")]),t._v(" TCP:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("#### "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("编程的服务器端一般步骤是： \n\n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、创建一个socket，用函数socket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、设置socket属性，用函数setsockopt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" 可选 \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("、绑定"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("地址、端口等信息到socket上，用函数bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、开启监听，用函数listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、接收客户端上来的连接，用函数accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、收发数据，用函数send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("和recv")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("，或者read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("和write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("、关闭网络连接； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("、关闭监听； \n　　\n#### "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("编程的客户端一般步骤是： \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、创建一个socket，用函数socket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、设置socket属性，用函数setsockopt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" 可选 \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("、绑定"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("地址、端口等信息到socket上，用函数bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" 可选 \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("、设置要连接的对方的"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),t._v("地址和端口等属性； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、连接服务器，用函数connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、收发数据，用函数send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("和recv")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("，或者read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("和write")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("、关闭网络连接；\n")])])]),a("h3",{attrs:{id:"udp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#udp"}},[t._v("#")]),t._v(" UDP:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("#### 与之对应的"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("编程步骤要简单许多，分别如下： \n　　#### "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("编程的服务器端一般步骤是： \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、创建一个socket，用函数socket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、设置socket属性，用函数setsockopt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" 可选 \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("、绑定"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("地址、端口等信息到socket上，用函数bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、循环接收数据，用函数recvfrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("、关闭网络连接； \n\n#### "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("编程的客户端一般步骤是： \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、创建一个socket，用函数socket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("； \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、设置socket属性，用函数setsockopt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" 可选 \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("、绑定"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("地址、端口等信息到socket上，用函数bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" 可选 \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("、设置对方的"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),t._v("地址和端口等属性"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("、发送数据，用函数sendto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n　　"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("、关闭网络连接；\n")])])]),a("p",[t._v("TCP和UDP是OSI模型中的运输层中的协议。TCP提供可靠的通信传输，而UDP则常被用于让广播和细节控制交给应用的通信传输。")]),t._v(" "),a("h2",{attrs:{id:"udp补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#udp补充"}},[t._v("#")]),t._v(" UDP补充：")]),t._v(" "),a("p",[t._v("UDP不提供复杂的控制机制，利用IP提供面向无连接的通信服务。并且它是将应用程序发来的数据在收到的那一刻，立刻按照原样发送到网络上的一种机制。即使是出现网络拥堵的情况下，UDP也无法进行流量控制等避免网络拥塞的行为。此外，传输途中如果出现了丢包，UDO也不负责重发。甚至当出现包的到达顺序乱掉时也没有纠正的功能。如果需要这些细节控制，那么不得不交给由采用UDO的应用程序去处理。换句话说，UDP将部分控制转移到应用程序去处理，自己却只提供作为传输层协议的最基本功能。UDP有点类似于用户说什么听什么的机制，但是需要用户充分考虑好上层协议类型并制作相应的应用程序。")]),t._v(" "),a("h2",{attrs:{id:"tcp补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp补充"}},[t._v("#")]),t._v(" TCP补充：")]),t._v(" "),a("p",[t._v("TCP充分实现了数据传输时各种控制功能，可以进行丢包的重发控制，还可以对次序乱掉的分包进行顺序控制。而这些在UDP中都没有。此外，TCP作为一种面向有连接的协议，只有在确认通信对端存在时才会发送数据，从而可以控制通信流量的浪费。TCP通过检验和、序列号、确认应答、重发控制、连接管理以及窗口控制等机制实现可靠性传输。")]),t._v(" "),a("h2",{attrs:{id:"tcp与udp区别总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp与udp区别总结"}},[t._v("#")]),t._v(" TCP与UDP区别总结：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("、"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("面向连接（如打电话要先拨号建立连接）"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("是无连接的，即发送数据之前不需要建立连接\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("、"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("提供可靠的服务。也就是说，通过"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("连接传送的数据，无差错，不丢失，不重复，且按序到达"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("尽最大努力交付，即不保  证可靠交付\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("、"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("面向字节流，实际上是"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("把数据看成一连串无结构的字节流"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("是面向报文的\n "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),t._v("电话，实时视频会议等）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("、每一条"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("连接只能是点到点的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("支持一对一，一对多，多对一和多对多的交互通信\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("、"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("首部开销"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("字节"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("的首部开销小，只有"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("个字节\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("、"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TCP")]),t._v("的逻辑通信信道是全双工的可靠信道，"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UDP")]),t._v("则是不可靠信道\n")])])]),a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/williamjie/p/9390164.html",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);